(function(e){function t(t){for(var s,a,c=t[0],l=t[1],r=t[2],h=0,d=[];h<c.length;h++)a=c[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,r||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,c=1;c<i.length;c++){var l=i[c];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},n={app:0},o=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/my-paint-app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var u=l;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0730":function(e,t,i){"use strict";i("ffa4")},"160b":function(e,t,i){"use strict";i("a450")},"1e83":function(e,t,i){e.exports=i.p+"img/palette.e995e81a.svg"},"2b7b":function(e,t,i){"use strict";i("69ff")},"34b1":function(e,t,i){e.exports=i.p+"img/undo.f9ff6451.svg"},"380e":function(e,t,i){e.exports=i.p+"img/free.2609a99e.svg"},"3b6f":function(e,t,i){e.exports=i.p+"img/eraser.4c75406e.svg"},"3bba":function(e,t,i){e.exports=i.p+"img/rectangle.8705b15e.svg"},"401a":function(e,t,i){"use strict";i("f62e")},"4e7f":function(e,t,i){e.exports=i.p+"img/ellipse.eb845fd1.svg"},"51c0":function(e,t,i){"use strict";i("cca2")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("7a23"),n=(i("a15b"),i("1276"),i("ac1f"),Object(s["q"])("data-v-a4988318"));Object(s["i"])("data-v-a4988318");var o={class:"app"},a={class:"app__main"},c={class:"app__main-body"},l={class:"app__sidebar"},r={class:"app__sidebar-item"},u=Object(s["f"])("p",null," ",-1),h={class:"app__sidebar-item-grid"},d={class:"tooltip"},p={key:0,class:"app__resize"},f=Object(s["e"])(" width "),v=Object(s["e"])(" height "),b={class:"app__sidebar-item"},g=Object(s["f"])("p",null," ",-1),O={class:"app__sidebar-radio"},m=Object(s["f"])("span",{class:"radio-button"},null,-1),M={class:"app__sidebar-item"},w=Object(s["f"])("p",null,"colors",-1),S={class:"app__sidebar-item"},k=Object(s["f"])("p",null,"thickness",-1),j={class:"app__sidebar-item"},x=Object(s["f"])("p",null,"shapes",-1),C={class:"app__canvas-wrapper"};Object(s["h"])();var T=n((function(e,t,n,T,y,I){var E=Object(s["k"])("app-header"),_=Object(s["k"])("app-color-pallete"),X=Object(s["k"])("app-thickness"),Y=Object(s["k"])("app-shapes"),D=Object(s["k"])("app-text-configs");return Object(s["g"])(),Object(s["c"])("div",o,[Object(s["f"])(E,{title:"My Paint App"}),Object(s["f"])("main",a,[Object(s["f"])("div",c,[Object(s["f"])("div",l,[Object(s["f"])("div",r,[u,Object(s["f"])("div",h,[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.operations,(function(t){return Object(s["g"])(),Object(s["c"])("div",{key:"operation-".concat(t)},[Object(s["f"])("button",{class:["button",{"button--disabled":e.isOperationButtonDisabled(t)}],"aria-label":"click to ".concat(t),onClick:e.operationMethods[t],disabled:e.isOperationButtonDisabled(t)},[Object(s["f"])("img",{src:i("6f32")("./".concat(t.split("_").join("-"),".svg")),alt:"".concat(t.split("_").join(" "),"} icon")},null,8,["src","alt"])],10,["aria-label","onClick","disabled"]),Object(s["f"])("span",d,Object(s["l"])(t.split("_").join(" ")),1)])})),128))]),e.resizeCanvas?(Object(s["g"])(),Object(s["c"])("div",p,[Object(s["f"])("label",null,[f,Object(s["o"])(Object(s["f"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.width=t}),placeholder:"width"},null,512),[[s["n"],e.width]])]),Object(s["f"])("label",null,[v,Object(s["o"])(Object(s["f"])("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.height=t}),placeholder:"height"},null,512),[[s["n"],e.height]])])])):Object(s["d"])("",!0)]),Object(s["f"])("div",b,[g,Object(s["f"])("div",O,[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.drawTypes,(function(i){return Object(s["g"])(),Object(s["c"])("label",{key:"draw-".concat(i),class:"radio-button__wrapper"},[Object(s["o"])(Object(s["f"])("input",{type:"radio",value:i,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.drawType=t}),checked:e.drawType===i},null,8,["value","checked"]),[[s["m"],e.drawType]]),m,Object(s["e"])(" "+Object(s["l"])(i),1)])})),128))])]),Object(s["f"])("div",M,[w,Object(s["f"])(_,{selectedColor:e.selectedColor,onSelectColor:e.onColorSelect},null,8,["selectedColor","onSelectColor"])]),Object(s["f"])("div",S,[k,Object(s["f"])(X,{selectedThickness:e.selectedThickness,onSelectThickness:e.onThicknessSelect},null,8,["selectedThickness","onSelectThickness"])]),Object(s["f"])("div",j,[x,Object(s["f"])(Y,{selectedShape:e.selectedShape,onSelectShape:e.onShapeSelect,onUploadImage:e.onImageUpload},null,8,["selectedShape","onSelectShape","onUploadImage"])])]),Object(s["f"])("div",C,[Object(s["f"])("canvas",{class:["app__canvas",{"app__canvas--drawing":e.isDrawing}],ref:"canvas",role:"img","aria-label":"draw here!",width:e.width,height:e.height,onMousedown:t[4]||(t[4]=function(){return e.onMouseDown&&e.onMouseDown.apply(e,arguments)}),onMousemove:t[5]||(t[5]=function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),onMouseup:t[6]||(t[6]=function(){return e.onMouseUp&&e.onMouseUp.apply(e,arguments)}),onClick:t[7]||(t[7]=function(){return e.setDragMode&&e.setDragMode.apply(e,arguments)}),onDblclick:t[8]||(t[8]=function(){return e.setEditMode&&e.setEditMode.apply(e,arguments)})},null,42,["width","height"]),Object(s["f"])("canvas",{class:[" app__canvas app__canvas-preview",{"app__canvas-preview--active":e.isPreview,"app__canvas--drawing":e.isDrawing}],ref:"canvasPreview",role:"img","aria-label":"draw here!",width:e.width,height:e.height,onMousedown:t[9]||(t[9]=function(){return e.onMouseDown&&e.onMouseDown.apply(e,arguments)}),onMousemove:t[10]||(t[10]=function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),onMouseup:t[11]||(t[11]=function(){return e.onMouseUp&&e.onMouseUp.apply(e,arguments)})},null,42,["width","height"]),Object(s["f"])(D,{showTextOptions:e.showTextOptions,textOptions:e.textOptions,initialMouseX:e.initialMouseX,initialMouseY:e.initialMouseY,onConfigText:e.onTextOptionsUpdate,onDrawText:e.drawText},null,8,["showTextOptions","textOptions","initialMouseX","initialMouseY","onConfigText","onDrawText"])])])])])})),y=i("ade3"),I=i("5530"),E=i("2909"),_=(i("fb6a"),i("caad"),i("2532"),i("99af"),i("159b"),Object(s["q"])("data-v-2907f12c"));Object(s["i"])("data-v-2907f12c");var X={class:"color-pallete__wrapper"},Y={class:"color-pallete"},D={class:"color-pallete__personalize-wrapper"},R=Object(s["f"])("span",{class:"tooltip"},"personalize",-1);Object(s["h"])();var A=_((function(e,t,n,o,a,c){return Object(s["g"])(),Object(s["c"])("div",X,[Object(s["f"])("div",Y,[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.colors,(function(i){return Object(s["g"])(),Object(s["c"])("button",{key:"color-".concat(i),class:["color-pallete__color",{"color-pallete__color--active":i===e.selectedColor}],value:i,style:{"background-color":"".concat(i)},onClick:t[1]||(t[1]=function(){return e.onColorClick&&e.onColorClick.apply(e,arguments)})},null,14,["value"])})),128)),Object(s["f"])("div",D,[Object(s["f"])("button",{class:"color-pallete__color color-pallete__personalize","aria-label":"add personalized color",onClick:t[2]||(t[2]=function(){return e.addNewColor&&e.addNewColor.apply(e,arguments)})},[Object(s["f"])("img",{src:i("76a4"),alt:"add icon"},null,8,["src"])]),R])]),Object(s["f"])("input",{class:"color-pallete__input",type:"color",value:e.selectedColor,onChange:t[3]||(t[3]=function(){return e.onPickNewColor&&e.onPickNewColor.apply(e,arguments)}),ref:"inputColor"},null,40,["value"])])})),F=["#000000","#6C757D","#FFFFFF","#B21F35","#D82735","#FF7435","#FFA135","#FFCB35","#FFF735","#00753A","#009E47","#16DD36","#0052A5","#0079E7","#06A9FC","#681E7E","#7D3CB5","#BD7AF6","#DE216D","#EC88A9"],P=[2,3,4,5,10],H={FILL:"fill",STROKE:"stroke"},L={FREE:"free",LINE:"line",RECTANGLE:"rectangle",CIRCLE:"circle",ELLIPSE:"ellipse",TRIANGLE:"triangle",ERASER:"eraser",TEXT:"text",IMAGE:"image"},z=["arial","comic sans","fantasy","monospace","raleway","times"],U=["8px","10px","12px","14px","16px","22px","32px"],N={fontFamily:z[0],fontSize:U[1],isItalic:!1,isBold:!1},W={RESIZE:"resize",SAVE:"save",RESET:"reset",UNDO:"undo",REDO:"redo",SELECT:"select",DUPLICATE:"duplicate",ROTATE_CLOCKWISE:"rotate_clockwise",ROTATE_COUNTERCLOCKWISE:"rotate_counterclockwise"},B={DRAW:"draw",DRAG:"drag",EDIT:"edit"},G=Math.PI/180,$={name:"ColorPallete",props:{selectedColor:String},emits:["selectColor"],computed:{colors:function(){return[].concat(Object(E["a"])(F),Object(E["a"])(this.personalizedColors))}},data:function(){return{personalizedColors:[]}},methods:{onColorClick:function(e){this.$emit("selectColor",e.target.value)},addNewColor:function(){this.$refs.inputColor.click()},onPickNewColor:function(e){this.personalizedColors=[].concat(Object(E["a"])(this.personalizedColors),[e.target.value]),this.onColorClick(e)}}};i("160b");$.render=A,$.__scopeId="data-v-2907f12c";var q=$,K=Object(s["q"])("data-v-94cf93f8"),V=K((function(e,t,n,o,a,c){return Object(s["g"])(),Object(s["c"])("div",null,[Object(s["f"])("header",null,[Object(s["f"])("h1",null,Object(s["l"])(e.title),1),Object(s["f"])("img",{src:i("1e83"),alt:"palleteicon"},null,8,["src"])])])})),J={name:"Header",props:{title:String}};i("2b7b");J.render=V,J.__scopeId="data-v-94cf93f8";var Z=J,Q=Object(s["q"])("data-v-b4aea774");Object(s["i"])("data-v-b4aea774");var ee={class:"shapes"},te={class:"tooltip"};Object(s["h"])();var ie=Q((function(e,t,n,o,a,c){return Object(s["g"])(),Object(s["c"])("div",ee,[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.shapes,(function(n){return Object(s["g"])(),Object(s["c"])("div",{class:"shapes__item-wrapper",key:"shape-".concat(n)},[Object(s["f"])("button",{class:["shapes__item",{"shapes__item--active":n===e.selectedShape}],"aria-label":"click to select ".concat(n," shape"),value:n,onClick:t[1]||(t[1]=function(){return e.onShapeClick&&e.onShapeClick.apply(e,arguments)})},[Object(s["f"])("img",{src:i("6f32")("./".concat(n,".svg")),alt:"".concat(n," icon")},null,8,["src","alt"])],10,["aria-label","value"]),Object(s["f"])("span",te,Object(s["l"])(n),1)])})),128)),Object(s["f"])("input",{class:"shapes__input",type:"file",onChange:t[2]||(t[2]=function(){return e.onImageUpload&&e.onImageUpload.apply(e,arguments)}),ref:"uploadImageInput"},null,544)])})),se=i("1da1"),ne=(i("96cf"),i("d3b7"),{name:"Shapes",props:{selectedShape:String},emits:["selectShape","uploadImage"],data:function(){return{shapes:L}},methods:{onShapeClick:function(e){this.$emit("selectShape",e.target.value),"image"===e.target.value&&this.$refs.uploadImageInput.click()},onImageUpload:function(e){var t=this;return Object(se["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,new Promise((function(t,i){var s=new FileReader;s.onload=function(e){var s=e.target.result;t(s),i("error")},s.readAsDataURL(e.target.files[0])}));case 2:return s=i.sent,i.next=5,t.$emit("uploadImage",s);case 5:case"end":return i.stop()}}),i)})))()}}});i("51c0");ne.render=ie,ne.__scopeId="data-v-b4aea774";var oe=ne,ae=Object(s["q"])("data-v-b420b7da");Object(s["i"])("data-v-b420b7da");var ce={class:"text-configs-bar"};Object(s["h"])();var le=ae((function(e,t,i,n,o,a){return e.showTextOptions?(Object(s["g"])(),Object(s["c"])("div",{key:0,class:"text-configs",style:{top:"".concat(e.initialMouseY,"px"),left:"".concat(e.initialMouseX,"px")}},[Object(s["o"])(Object(s["f"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.canvasText=t}),placeholder:"type and press 'Enter'",onKeydown:t[2]||(t[2]=Object(s["p"])((function(){return e.onDrawText&&e.onDrawText.apply(e,arguments)}),["enter"]))},null,544),[[s["n"],e.canvasText]]),Object(s["f"])("div",ce,[Object(s["f"])("select",{value:e.textOptions.fontFamily,name:"fontFamily",onChange:t[3]||(t[3]=function(){return e.onTextConfig&&e.onTextConfig.apply(e,arguments)})},[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.fontFamilies,(function(e){return Object(s["g"])(),Object(s["c"])("option",{key:"font-".concat(e),value:e},Object(s["l"])(e),9,["value"])})),128))],40,["value"]),Object(s["f"])("select",{value:e.textOptions.fontSize,name:"fontSize",onChange:t[4]||(t[4]=function(){return e.onTextConfig&&e.onTextConfig.apply(e,arguments)})},[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.fontSizes,(function(e){return Object(s["g"])(),Object(s["c"])("option",{key:"font-".concat(e),value:e},Object(s["l"])(e.split("px")[0]),9,["value"])})),128))],40,["value"]),Object(s["f"])("button",{class:{"text-configs-button--active":e.textOptions.isItalic},value:!e.textOptions.isItalic,name:"isItalic",style:{fontStyle:"italic"},onClick:t[5]||(t[5]=function(){return e.onTextConfig&&e.onTextConfig.apply(e,arguments)})}," I ",10,["value"]),Object(s["f"])("button",{class:{"text-configs-button--active":e.textOptions.isBold},value:!e.textOptions.isBold,name:"isBold",style:{fontWeight:"700"},onClick:t[6]||(t[6]=function(){return e.onTextConfig&&e.onTextConfig.apply(e,arguments)})}," B ",10,["value"])])],4)):Object(s["d"])("",!0)})),re=(i("a9e3"),i("b0c0"),{name:"TextConfigs",props:{showTextOptions:Boolean,initialMouseX:Number,initialMouseY:Number,textOptions:Object},emits:["configText","drawText"],data:function(){return{canvasText:"",fontFamilies:z,fontSizes:U}},methods:{onTextConfig:function(e){var t=e.target,i=t.name,s=t.value,n="true"===s||"false"===s?"true"===s:s;this.$emit("configText",n,i)},onDrawText:function(){this.$emit("drawText",this.canvasText),this.canvasText=""}}});i("401a");re.render=le,re.__scopeId="data-v-b420b7da";var ue=re,he=Object(s["q"])("data-v-4eeb5ac4");Object(s["i"])("data-v-4eeb5ac4");var de={class:"thickness"};Object(s["h"])();var pe=he((function(e,t,i,n,o,a){return Object(s["g"])(),Object(s["c"])("div",de,[(Object(s["g"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e.thickness,(function(i){return Object(s["g"])(),Object(s["c"])("button",{key:"thickess-".concat(i),class:["thickness__item",{"thickness__item--active":i===e.selectedThickness}],value:i,onClick:t[1]||(t[1]=function(){return e.onThicknessClick&&e.onThicknessClick.apply(e,arguments)})},[Object(s["f"])("div",{style:{width:"".concat(i,"px")}}," ",4)],10,["value"])})),128))])})),fe={name:"Thickness",props:{selectedThickness:Number},emits:["selectThickness"],data:function(){return{thickness:P}},methods:{onThicknessClick:function(e){this.$emit("selectThickness",+e.target.value)}}};i("8887");fe.render=pe,fe.__scopeId="data-v-4eeb5ac4";var ve=fe,be=(i("c740"),function(e,t){t.setInitialMouseCoordinates(e);var i=t.stackHistory[t.stackHistory.length-1],s=i.findIndex((function(e){switch(e.selectedShape){case L.CIRCLE:return ge(e,t);case L.ELLIPSE:return ge(e,t);case L.RECTANGLE:return Oe(e,t);case L.IMAGE:return Oe(e,t);case L.LINE:return me(e,t);case L.TRIANGLE:return Me(e,t);default:return}}));t.selectedElementIndex=-1!==s?s:null}),ge=function(e,t){var i=Se(e.initialMouseX,e.initialMouseY,e.mouseX,e.mouseY);return Se(t.initialMouseX,t.initialMouseY,e.initialMouseX,e.initialMouseY)<=i},Oe=function(e,t){var i=Math.abs(e.mouseX-e.initialMouseX),s=Math.abs(e.mouseY-e.initialMouseY),n=e.mouseY<e.initialMouseY?e.mouseY:e.initialMouseY,o=e.mouseX<e.initialMouseX?e.mouseX:e.initialMouseX;return t.initialMouseY>=n&&t.initialMouseY<=n+s&&t.initialMouseX>=o&&t.initialMouseX<=o+i},me=function(e,t){return(t.initialMouseX-e.initialMouseX)/(e.mouseX-e.initialMouseX)===(t.initialMouseY-e.initialMouseY)/(e.mouseY-e.initialMouseY)},Me=function(e,t){var i=Math.abs(e.initialMouseX-e.mouseX),s=i/2+e.initialMouseX,n=i*Math.sqrt(3,2)/2,o=e.initialMouseY-n,a=we(e.initialMouseX,e.initialMouseY,e.mouseX,e.initialMouseY,s,o),c=we(t.initialMouseX,t.initialMouseY,e.initialMouseX,e.initialMouseY,s,o),l=we(t.initialMouseX,t.initialMouseY,e.mouseX,e.initialMouseY,s,o),r=we(t.initialMouseX,t.initialMouseY,e.initialMouseX,e.initialMouseY,e.mouseX,e.initialMouseY);return c+l+r<=a},we=function(e,t,i,s,n,o){return(e-n)*(s-o)-(i-n)*(t-o)},Se=function(e,t,i,s){return Math.sqrt(Math.pow(e-i,2)+Math.pow(t-s,2))},ke=(i("cb29"),function(e,t,i){var s=i||t;e.moveTo(s.mouseX,s.mouseY),t.setMouseCoordinates(event),e.lineTo(s.mouseX,s.mouseY),e.stroke()}),je=function(e,t,i){var s=i||t;e.moveTo(s.initialMouseX,s.initialMouseY),e.lineTo(s.mouseX,s.mouseY),e.stroke()},xe=function(e,t,i){var s=i||t,n=s.mouseX-s.initialMouseX,o=s.mouseY-s.initialMouseY;if(e.moveTo(s.initialMouseX,s.initialMouseY),i&&i.rotation)return e.save(),e.translate(s.initialMouseX,s.initialMouseY),e.translate(n/2,o/2),e.rotate(i.rotation*G),e.rect(-n/2,-o/2,n,o),Xe(e,t,s.hasFill),e.restore();e.rect(s.initialMouseX,s.initialMouseY,n,o),Xe(e,t,s.hasFill)},Ce=function(e,t,i){if(t.uploadedImages.length){var s=i||t,n=s.mouseX-s.initialMouseX,o=s.mouseY-s.initialMouseY,a=new Image;a.src=i?t.uploadedImages[s.uploadedImageIndex]:t.uploadedImages[t.uploadedImages.length-1],e.moveTo(s.initialMouseX,s.initialMouseY),a.onload=function(){if(i&&i.rotation)return e.save(),e.translate(s.initialMouseX,s.initialMouseY),e.translate(n/2,o/2),e.rotate(i.rotation*G),e.drawImage(a,-n/2,-o/2,n,o),Xe(e,t,s.hasFill),e.restore();e.drawImage(a,s.initialMouseX,s.initialMouseY,n,o)}}},Te=function(e,t,i){var s=i||t,n=Math.PI/180,o=Ye(s.initialMouseX,s.initialMouseY,s.mouseX,s.mouseY);e.arc(s.initialMouseX,s.initialMouseY,o,0*n,360*n),Xe(e,t,s.hasFill)},ye=function(e,t,i){var s=i||t;e.moveTo(s.initialMouseX,s.initialMouseY+(s.mouseY-s.initialMouseY)/2),e.bezierCurveTo(s.initialMouseX,s.initialMouseY,s.mouseX,s.initialMouseY,s.mouseX,s.initialMouseY+(s.mouseY-s.initialMouseY)/2),e.bezierCurveTo(s.mouseX,s.mouseY,s.initialMouseX,s.mouseY,s.initialMouseX,s.initialMouseY+(s.mouseY-s.initialMouseY)/2),e.closePath(),Xe(e,t,s.hasFill)},Ie=function(e,t,i){var s=i?i.canvasText:e;if(s){var n=i||t,o=n.textOptions,a=o.fontFamily,c=o.fontSize,l=o.isItalic,r=o.isBold;t.context.fillStyle=n.selectedFillColor,t.context.strokeStyle=n.selectedStrokeColor,t.context.font="".concat(l?"italic":"normal"," ").concat(r?700:400," ").concat(c," ").concat(a),n.hasFill?t.context.fillText(s,n.initialMouseX,n.initialMouseY):t.context.strokeText(s,n.initialMouseX,n.initialMouseY),!i&&t.saveConfigsInStack(e),t.textOptions=N,t.isDrawing=!1,t.showTextOptions=!1}},Ee=function(e,t,i){var s=i||t;e.moveTo(s.initialMouseX,s.initialMouseY);var n=Math.abs(s.initialMouseX-s.mouseX),o=n/2+s.initialMouseX,a=n*Math.sqrt(3,2)/2;e.lineTo(s.mouseX,s.initialMouseY),e.lineTo(o,s.initialMouseY-a),e.closePath(),Xe(e,t,s.hasFill)},_e=function(e,t,i){var s=i||t;e.moveTo(s.mouseX,s.mouseY),t.setMouseCoordinates(event),e.clearRect(s.mouseX,s.mouseY,s.selectedThickness,s.selectedThickness)},Xe=function(e,t,i){if(t.isPreview)return e.stroke();e.stroke(),i&&e.fill()},Ye=function(e,t,i,s){return Math.sqrt(Math.pow(e-i,2)+Math.pow(t-s,2))},De=i("fa7d"),Re={name:"App",computed:{hasFill:function(){return this.drawType===H.FILL},selectedColor:function(){return this.hasFill?this.selectedFillColor:this.selectedStrokeColor}},data:function(){return{context:null,contextPreview:null,boundings:null,width:900,height:620,mouseX:0,mouseY:0,initialMouseX:0,initialMouseY:0,isDrawing:!1,isDragging:!1,isResizing:!1,isPreview:!1,drawType:H.STROKE,drawTypes:H,textOptions:N,showTextOptions:!1,uploadedImages:[],previewColor:"#aaaaaa",selectedStrokeColor:F[0],selectedFillColor:F[0],selectedThickness:P[0],selectedShape:L.FREE,drawWithoutPreview:[L.FREE,L.ERASER,L.TEXT],drawShape:{free:ke,rectangle:xe,line:je,circle:Te,ellipse:ye,triangle:Ee,eraser:_e,text:Ie,image:Ce},operations:W,operationMethods:{undo:this.onUndo,redo:this.onRedo,resize:this.onCanvasResize,save:this.onSave,reset:this.onReset,select:this.onSelect,duplicate:this.onDuplicate,rotate_clockwise:this.onRotateClockwise,rotate_counterclockwise:this.onRotateCounterclockwise},resizeCanvas:!1,stackHistory:[],nrOfStackSteps:null,canvasMode:B.DRAW,selectedElementIndex:null}},components:{"app-color-pallete":q,"app-header":Z,"app-shapes":oe,"app-text-configs":ue,"app-thickness":ve},mounted:function(){this.getCanvas()},methods:{getCanvas:function(){var e=this.$refs.canvas,t=this.$refs.canvasPreview,i=e.getContext("2d"),s=t.getContext("2d");this.context=i,this.contextPreview=s,this.boundings=e.getBoundingClientRect();var n=Object(De["a"])(),o=n.width,a=n.height;this.width=o,this.height=a},clearCanvas:function(e){e.clearRect(0,0,this.width,this.height)},isOperationButtonDisabled:function(e){if(e===W.DUPLICATE)return this.canvasMode!==B.EDIT||null===this.selectedElementIndex;if(e===W.ROTATE_CLOCKWISE||e===W.ROTATE_COUNTERCLOCKWISE){var t=this.selectedElementIndex?this.stackHistory[this.stackHistory.length-1][this.selectedElementIndex].selectedShape:"";return this.canvasMode!==B.EDIT||null===this.selectedElementIndex||t!==L.RECTANGLE&&t!==L.IMAGE}return e===W.UNDO?!this.stackHistory.length||null!==this.nrOfStackSteps&&this.nrOfStackSteps<=0:e===W.REDO&&(!this.stackHistory.length||null===this.nrOfStackSteps||this.nrOfStackSteps>=this.stackHistory.length)},initialSetup:function(e){this.isPreview&&this.clearCanvas(this.contextPreview),e.beginPath(),e.lineWidth=this.selectedThickness,e.strokeStyle=this.isPreview?this.previewColor:this.selectedStrokeColor,e.fillStyle=this.selectedFillColor},onMouseDown:function(e){if(this.nrOfStackSteps&&this.nrOfStackSteps<this.stackHistory.length&&(this.stackHistory=this.stackHistory.slice(0,this.nrOfStackSteps)),this.nrOfStackSteps=null,this.setMouseCoordinates(e),this.setInitialMouseCoordinates(e),this.canvasMode===B.DRAW)return this.isDrawing=!0,this.isPreview=!this.drawWithoutPreview.includes(this.selectedShape),void(this.showTextOptions=this.selectedShape===L.TEXT);this.canvasMode===B.DRAG&&(this.isDragging=!0),this.canvasMode===B.EDIT&&(this.isResizing=!0),be(e,this),null!==this.selectedElementIndex&&this.copyAndAddLastStateToStackHistory()},onMouseMove:function(e){switch(this.canvasMode){case B.DRAW:return this.isPreview?this.drawPreview(e):this.draw(e);case B.DRAG:return this.drag(e);case B.EDIT:return this.resize(e);default:return}},onMouseUp:function(){this.isDrawing=!1,this.isPreview=!1,this.isDragging=!1,this.isResizing=!1,this.canvasMode===B.DRAW&&this.saveConfigsInStack(),this.drawWithoutPreview.includes(this.selectedShape&&this.canvasMode===B.DRAW)||(this.clearCanvas(this.contextPreview),this.initialSetup(this.context),this.selectedShape&&this.drawShape[this.selectedShape](this.context,this))},drawText:function(e){Ie(e,this)},draw:function(){this.isDrawing&&!this.isPreview&&(this.initialSetup(this.context),this.selectedShape&&this.selectedShape!==L.TEXT&&this.drawShape[this.selectedShape](this.context,this))},drawPreview:function(e){this.isDrawing&&this.isPreview&&(this.setMouseCoordinates(e),this.initialSetup(this.contextPreview),this.selectedShape&&this.drawShape[this.selectedShape](this.contextPreview,this))},drag:function(e){if(this.canvasMode===B.DRAG&&this.isDragging&&null!==this.selectedElementIndex){this.setMouseCoordinates(e);var t=this.stackHistory[this.stackHistory.length-1][this.selectedElementIndex],i=Math.abs(t.mouseX-t.initialMouseX),s=Math.abs(t.mouseY-t.initialMouseY);this.updateItemState("initialMouseX",this.mouseX),this.updateItemState("initialMouseY",this.mouseY),this.updateItemState("mouseX",this.mouseX+i),this.updateItemState("mouseY",this.mouseY+s),this.redraw()}},resize:function(e){this.canvasMode===B.EDIT&&this.isResizing&&null!==this.selectedElementIndex&&(this.setMouseCoordinates(e),this.updateItemState("mouseX",this.mouseX),this.updateItemState("mouseY",this.mouseY),this.redraw())},updateItemState:function(e,t){this.stackHistory[this.stackHistory.length-1][this.selectedElementIndex][e]=t},copyAndAddLastStateToStackHistory:function(e){var t=e?[].concat(Object(E["a"])(this.stackHistory[this.stackHistory.length-1]),[e]):this.stackHistory[this.stackHistory.length-1];this.stackHistory.push(Object(E["a"])(JSON.parse(JSON.stringify(t))))},saveConfigsInStack:function(e){var t={initialMouseX:this.initialMouseX,initialMouseY:this.initialMouseY,mouseX:this.mouseX,mouseY:this.mouseY,selectedShape:this.selectedShape,selectedThickness:this.selectedThickness,selectedFillColor:this.selectedFillColor,selectedStrokeColor:this.selectedStrokeColor,hasFill:this.hasFill,rotation:0};this.selectedShape===L.TEXT&&(t.textOptions=this.textOptions,t.canvasText=e),this.selectedShape===L.IMAGE&&(t.uploadedImageIndex=this.uploadedImages.length-1),this.stackHistory.length?this.copyAndAddLastStateToStackHistory(t):this.stackHistory.push([t])},redraw:function(){var e,t=this;this.stackHistory.length&&(this.clearCanvas(this.context),this.isDrawing=!0,e=null===this.nrOfStackSteps?this.stackHistory[this.stackHistory.length-1]:0===this.nrOfStackSteps?[]:this.stackHistory[this.nrOfStackSteps-1],e.forEach((function(e){t.context.beginPath(),t.context.lineWidth=e.selectedThickness,t.context.strokeStyle=e.selectedStrokeColor,t.context.fillStyle=e.selectedFillColor,t.drawShape[e.selectedShape](t.context,t,e)})),this.isDrawing=!1)},setMouseCoordinates:function(e){this.mouseX=e.clientX-this.boundings.left,this.mouseY=e.clientY-this.boundings.top},setInitialMouseCoordinates:function(e){this.initialMouseX=e.clientX-this.boundings.left,this.initialMouseY=e.clientY-this.boundings.top},onColorSelect:function(e){if(this.canvasMode===B.EDIT&&null!==this.selectedElementIndex){if(this.copyAndAddLastStateToStackHistory(),this.hasFill)return this.updateItemState("selectedFillColor",e),this.updateItemState("hasFill",this.hasFill),this.redraw();this.updateItemState("selectedStrokeColor",e),this.redraw()}if(this.hasFill)return this.selectedFillColor=e;this.selectedStrokeColor=e},onThicknessSelect:function(e){this.canvasMode===B.EDIT&&null!==this.selectedElementIndex&&(this.copyAndAddLastStateToStackHistory(),this.updateItemState("selectedThickness",e),this.redraw()),this.selectedThickness=e},onShapeSelect:function(e){this.selectedShape=e,this.canvasMode=B.DRAW,this.selectedElementIndex=null,e!==L.FREE&&e!==L.LINE||(this.drawType=H.STROKE),L!==L.TEXT&&(this.showTextOptions=!1)},onImageUpload:function(e){this.uploadedImages=[].concat(Object(E["a"])(this.uploadedImages),[e])},onTextOptionsUpdate:function(e,t){this.textOptions=Object(I["a"])(Object(I["a"])({},this.textOptions),{},Object(y["a"])({},t,e))},onReset:function(){this.clearCanvas(this.context),this.clearCanvas(this.contextPreview),this.stackHistory=[],this.nrOfStackSteps=null},onSave:function(){var e=!Object(De["b"])()&&prompt("Please enter the file name"),t=this.$refs.canvas,i=t.toDataURL(),s=document.createElement("a");s.href=i,s.download=e||"my-paint-app-draw",s.click()},onCanvasResize:function(){this.resizeCanvas=!this.resizeCanvas},onSelect:function(){this.selectedShape=null,this.showTextOptions=!1,this.canvasMode=B.DRAG},onUndo:function(){if(this.isDrawing=!1,this.nrOfStackSteps=this.getCurrentStackIndex(),this.nrOfStackSteps-=1,this.nrOfStackSteps<0)return this.nrOfStackSteps=null;this.redraw()},onRedo:function(){if(this.isDrawing=!1,this.nrOfStackSteps=this.getCurrentStackIndex(),this.nrOfStackSteps+=1,this.nrOfStackSteps>this.stackHistory.length)return this.nrOfStackSteps=null;this.redraw()},onDuplicate:function(){if(this.canvasMode===B.EDIT&&null!==this.selectedElementIndex){var e=this.stackHistory[this.stackHistory.length-1][this.selectedElementIndex];this.copyAndAddLastStateToStackHistory(e),this.redraw()}},onRotateClockwise:function(){this.onRotate()},onRotateCounterclockwise:function(){this.onRotate(!1)},onRotate:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.canvasMode===B.EDIT&&null!==this.selectedElementIndex){var t=this.stackHistory[this.stackHistory.length-1][this.selectedElementIndex].rotation,i=e?10:-10;this.copyAndAddLastStateToStackHistory();var s=t+i<=360?t+i:0;this.updateItemState("rotation",s),this.redraw()}},setEditMode:function(){this.canvasMode=B.EDIT},setDragMode:function(){this.canvasMode=B.DRAG},getCurrentStackIndex:function(){return null!==this.nrOfStackSteps?this.nrOfStackSteps:this.stackHistory.length||0}}};i("0730");Re.render=T,Re.__scopeId="data-v-a4988318";var Ae=Re;Object(s["b"])(Ae).mount("#app")},"5ca2":function(e,t,i){e.exports=i.p+"img/duplicate.b5b6a8b7.svg"},"605c":function(e,t,i){e.exports=i.p+"img/resize.25f327e3.svg"},"63dc":function(e,t,i){e.exports=i.p+"img/redo.6ab78b6d.svg"},"69ff":function(e,t,i){},"6e53":function(e,t,i){},"6f32":function(e,t,i){var s={"./add.svg":"76a4","./circle.svg":"b289","./duplicate.svg":"5ca2","./ellipse.svg":"4e7f","./eraser.svg":"3b6f","./free.svg":"380e","./image.svg":"931c","./line.svg":"aa4c","./palette.svg":"1e83","./pencil.svg":"e51f","./rectangle.svg":"3bba","./redo.svg":"63dc","./reset.svg":"c680","./resize.svg":"605c","./rotate-clockwise.svg":"7480","./rotate-counterclockwise.svg":"7d9b","./save.svg":"9344","./select.svg":"9878","./text.svg":"d36f","./triangle.svg":"a8fe","./undo.svg":"34b1"};function n(e){var t=o(e);return i(t)}function o(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id="6f32"},7480:function(e,t,i){e.exports=i.p+"img/rotate-clockwise.18051917.svg"},"76a4":function(e,t,i){e.exports=i.p+"img/add.b617d4b1.svg"},"7d9b":function(e,t,i){e.exports=i.p+"img/rotate-counterclockwise.86318537.svg"},8887:function(e,t,i){"use strict";i("6e53")},"931c":function(e,t,i){e.exports=i.p+"img/image.2b29e866.svg"},9344:function(e,t,i){e.exports=i.p+"img/save.ca50d783.svg"},9878:function(e,t,i){e.exports=i.p+"img/select.983257e2.svg"},a450:function(e,t,i){},a8fe:function(e,t,i){e.exports=i.p+"img/triangle.10dddd47.svg"},aa4c:function(e,t,i){e.exports=i.p+"img/line.39082d9c.svg"},b289:function(e,t,i){e.exports=i.p+"img/circle.d320154d.svg"},c680:function(e,t,i){e.exports=i.p+"img/reset.84fcc0f6.svg"},cca2:function(e,t,i){},d36f:function(e,t,i){e.exports=i.p+"img/text.0391f3de.svg"},e51f:function(e,t,i){e.exports=i.p+"img/pencil.ad28a648.svg"},f62e:function(e,t,i){},fa7d:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var s=i("53ca"),n=function(){return window.innerWidth>1023?{width:900,height:642}:window.innerWidth>767?{width:600,height:642}:window.innerWidth>480?{width:400,height:580}:{width:200,height:580}},o=function(){return!(!window||"object"!==Object(s["a"])(window.process)||"renderer"!==window.process.type)||(!(!e||"object"!==Object(s["a"])(e.versions)||!e.versions.electron)||"object"===("undefined"===typeof navigator?"undefined":Object(s["a"])(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,i("4362"))},ffa4:function(e,t,i){}});
//# sourceMappingURL=app.c0872260.js.map